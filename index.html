<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <script type="text/javascript">
        function playerTurn() {
            // checks if the users input is valid
            let playerInput = prompt("Please type rock, paper, or scissors: ");
            let validWords = ["rock", "paper", "scissors"];
            playerInput = playerInput.toLowerCase();

            while (validWords.includes(playerInput) == false) {
                playerInput = prompt("Invalid input! Please type rock, paper, or scissors: ");
                playerInput = playerInput.toLowerCase();
            }

            return playerInput;
        }

        function aiTurn() {
            //returns a random word
            let validWords = ["rock", "paper", "scissors"];
            let choice = validWords[Math.floor(Math.random()*validWords.length)];
            return choice;
        }

        function singleGame() {
            let player = playerTurn();
            let ai = aiTurn();
            let result = player + ', ' + ai;
            let winIf = ['rock, scissors', 'scissors, paper', 'paper, rock'];
            let tieIf = ['paper, paper', 'scissors, scissors', 'rock, rock'];

            while (tieIf.includes(result)) {
                ai = aiTurn();
                result = player + ', ' + ai;
            }

            return (winIf.includes(result)) ? 'won' : 'lost';
        }

        function game () {
            //plays five games and returns the winner
            let playerScore = 0;
            let computerScore = 0;

            for (let i = 0; i < 5; i++) {
                if (singleGame() == "won") {
                    console.log("You won this round!");
                    playerScore++;
                }
                else {
                    console.log("You lost this round!");
                    computerScore++;
                }
            }

            return (computerScore < playerScore) ? "Congratulations, you won the game!" : "Better luck next time!";
        }

        console.log(game());

    </script>
</body>
</html>
